import{j as l,o as m,f as g,a as t,w as o,F as _,b as d,d as v,t as $,k as E,l as y,v as T,c as k}from"./app-D5kEYsSE.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as z,a as L}from"./DropdownLink-BKH2IBRf.js";const N={data:()=>({tasks:[],dialog:!1,showCreateForm:!1,showEditForm:!1,titleDialog:"",newTask:{},selectedTask:{}}),components:{Dropdown:z,DropdownLink:L},created(){this.getTasks()},methods:{openCreateForm(){this.showCreateForm=!0,this.showEditForm=!1,this.dialog=!0,this.titleDialog="Crear una nueva tarea"},openEditForm(e){this.selectedTask=e,this.showEditForm=!0,this.showCreateForm=!1,this.dialog=!0,this.titleDialog="Editar una tarea"},async getTasks(){await axios.get("/api/tasks").then(e=>{this.tasks=e.data.tasks}).catch(e=>{console.log(e)})},async addNewTask(){await axios.post("/api/tasks",this.newTask).then(e=>{this.newTask={},this.getTasks(),this.dialog=!1}).catch(e=>{console.log(e)})},async updateTask(e,a){this.selectedTask=a,this.selectedTask.done=e?!a.done:a.done,await axios.put(`/api/tasks/${a.id}`,this.selectedTask).then(u=>{this.dialog=!1,this.showEditForm=!1,this.selectedTask={},this.getTasks()}).catch(u=>{console.log(u)})},async deleteTask(e){await axios.delete(`/api/tasks/${e.id}`).then(a=>{this.getTasks()}).catch(a=>{console.log(a)})}}},B=d("h1",{class:"text-h5",color:"primary"}," Listado de Tareas ",-1),U={class:"text-center"},S={class:"inline-flex rounded-md"},A={type:"button",class:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-gray-500 bg-white hover:text-gray-700 focus:outline-none transition ease-in-out duration-150"},G=d("svg",{class:"ms-2 -me-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[d("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1);function M(e,a,u,q,H,i){const r=l("v-col"),x=l("v-icon"),n=l("v-btn"),C=l("DropdownLink"),V=l("Dropdown"),c=l("v-row"),D=l("v-card-actions"),p=l("v-card"),F=l("v-container"),h=l("v-text-field"),w=l("v-textarea"),b=l("v-dialog");return m(),g(_,null,[t(F,null,{default:o(()=>[t(c,{class:"d-flex justify-center"},{default:o(()=>[t(r,{cols:"8","cols-sm":"12"},{default:o(()=>[t(c,null,{default:o(()=>[t(r,{cols:"8"},{default:o(()=>[B]),_:1}),t(r,{cols:"2"},{default:o(()=>[d("div",U,[t(n,{color:"primary",onClick:a[0]||(a[0]=s=>i.openCreateForm()),size:"small","prepend-icon":"mdi-plus-circle"},{prepend:o(()=>[t(x,{color:"white"})]),default:o(()=>[v("Nueva ")]),_:1})])]),_:1}),t(r,{cols:"2"},{default:o(()=>[t(V,{align:"right",width:"48"},{trigger:o(()=>[d("span",S,[d("button",A,[v($(e.$page.props.auth.user.name)+" ",1),G])])]),content:o(()=>[t(C,{href:e.route("logout"),method:"post",as:"button"},{default:o(()=>[v(" Salir ")]),_:1},8,["href"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(c,{class:"d-flex justify-center"},{default:o(()=>[t(r,{cols:"8","cols-sm":"12"},{default:o(()=>[(m(!0),g(_,null,E(e.tasks,s=>(m(),k(p,{class:"my-2",key:s.id,title:s.name,text:s.description,variant:"outlined"},{default:o(()=>[t(D,null,{default:o(()=>[s.done?(m(),k(n,{key:1,color:"primary",variant:"elevated",icon:"mdi-alpha-x",size:"x-small",onClick:f=>i.updateTask(!0,s)},null,8,["onClick"])):(m(),k(n,{key:0,color:"primary",variant:"elevated",icon:"mdi-check",size:"x-small",onClick:f=>i.updateTask(!0,s)},null,8,["onClick"])),t(n,{color:"primary",variant:"elevated",icon:"mdi-pencil",size:"x-small",onClick:f=>i.openEditForm(s)},null,8,["onClick"]),t(n,{color:"primary",variant:"elevated",icon:"mdi-delete",size:"x-small",onClick:f=>i.deleteTask(s)},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["title","text"]))),128))]),_:1})]),_:1})]),_:1}),t(b,{modelValue:e.dialog,"onUpdate:modelValue":a[9]||(a[9]=s=>e.dialog=s),width:"1200"},{default:o(()=>[y(t(p,{"prepend-icon":"mdi-update",title:e.titleDialog,class:"px-3"},{actions:o(()=>[t(c,{class:"d-flex justify-center"},{default:o(()=>[t(r,{cols:"4",class:"d-flex justify-center"},{default:o(()=>[t(n,{class:"ms-auto",text:"Cancelar",variant:"elevated",color:"primary",onClick:a[3]||(a[3]=s=>e.dialog=!1)}),t(n,{class:"ms-auto",variant:"elevated",color:"primary",text:"Agregar",onClick:a[4]||(a[4]=s=>i.addNewTask())})]),_:1})]),_:1})]),default:o(()=>[t(h,{"hide-details":"auto",label:"Título",color:"primary",class:"my-3 mx-3",modelValue:e.newTask.name,"onUpdate:modelValue":a[1]||(a[1]=s=>e.newTask.name=s)},null,8,["modelValue"]),t(w,{label:"Descripción",color:"primary",class:"my-3 mx-3",modelValue:e.newTask.description,"onUpdate:modelValue":a[2]||(a[2]=s=>e.newTask.description=s)},null,8,["modelValue"])]),_:1},8,["title"]),[[T,e.showCreateForm]]),y(t(p,{"prepend-icon":"mdi-update",class:"px-3",title:e.titleDialog},{actions:o(()=>[t(c,{class:"d-flex justify-center"},{default:o(()=>[t(r,{cols:"4",class:"d-flex justify-center"},{default:o(()=>[t(n,{class:"ms-auto",text:"Cancelar",color:"primary",variant:"elevated",onClick:a[7]||(a[7]=s=>e.dialog=!1)}),t(n,{class:"ms-auto",text:"Guardar",color:"primary",variant:"elevated",onClick:a[8]||(a[8]=s=>i.updateTask(!1,e.selectedTask))})]),_:1})]),_:1})]),default:o(()=>[t(h,{"hide-details":"auto",label:"Título",class:"my-3 mx-3",modelValue:e.selectedTask.name,"onUpdate:modelValue":a[5]||(a[5]=s=>e.selectedTask.name=s)},null,8,["modelValue"]),t(w,{label:"Descripción",class:"my-3 mx-3",modelValue:e.selectedTask.description,"onUpdate:modelValue":a[6]||(a[6]=s=>e.selectedTask.description=s)},null,8,["modelValue"])]),_:1},8,["title"]),[[T,e.showEditForm]])]),_:1},8,["modelValue"])],64)}const O=j(N,[["render",M]]);export{O as default};
